<div class="container-fluid">
  <!-- ‚îÄ‚îÄ Module ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="selection-row">
    <label class="mr-05">Select Module</label>

    <select
      [ngModel]="selectedModule()"
      (ngModelChange)="onModuleChange($event)"
    >
      <option value="">-- Choose Module --</option>
      <option *ngFor="let m of modules" [value]="m.id">{{ m.name }}</option>
    </select>

    <button class="btn-small primary ml-05" (click)="toggleAddModule()">
      ‚ûï Add Module
    </button>

    <button
      *ngIf="selectedModule()"
      class="btn-small export ml-auto"
      (click)="exportModuleToExcel()"
    >
      üì§ Export
    </button>
  </div>

  <!-- Add‚ÄëModule inline form -->
  <div class="form-box" *ngIf="showAddModuleForm">
    <div class="form-group">
      <label>Module Name</label>
      <input [(ngModel)]="newModuleName" />
    </div>
    <div class="form-group">
      <label>Initial Version</label>
      <input [(ngModel)]="newModuleVersion" placeholder="v1.0" />
    </div>
    <div class="form-group">
      <button class="btn-small success mr-05" (click)="saveModule()">
        ‚úÖ Save
      </button>
      <button class="btn-small danger" (click)="cancelAddModule()">
        ‚ùå Cancel
      </button>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ Version ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="selection-row" *ngIf="selectedModule()">
    <label class="mr-05">Select Version</label>

    <select
      [ngModel]="selectedVersion()"
      (ngModelChange)="onVersionChange($event)"
    >
      <option value="">-- Choose Version --</option>
      <option *ngFor="let v of versions()" [value]="v">{{ v }}</option>
    </select>

    <button
      class="btn-small primary ml-05"
      (click)="toggleAddVersionForm()"
    >
      ‚ûï Add Version
    </button>
  </div>

  <!-- Add‚ÄëVersion inline form -->
  <div class="form-box" *ngIf="showAddVersionForm">
    <div class="form-group">
      <input
        [(ngModel)]="newVersionName"
        placeholder="New version (e.g. v1.2)"
      />
    </div>
    <div class="form-group">
      <button class="btn-small success mr-05" (click)="addNewVersion()">
        ‚úÖ Save Version
      </button>
      <button class="btn-small danger" (click)="cancelAddVersionForm()">
        ‚ùå Cancel
      </button>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ Action ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div
    class="selection-row"
    *ngIf="selectedModule() && selectedVersion()"
  >
    <button
      class="btn-small warning"
      [routerLink]="['/tester/edit-testcases', selectedModule(), selectedVersion()]"
    >
      ‚úèÔ∏è Edit Test Cases
    </button>
  </div>
</div>