<div class="container-fluid">
  <!-- â”€â”€ Module â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="selection-row">
    <label class="mr-05">Select Module</label>

    <select [ngModel]="selectedModule()" (ngModelChange)="onModuleChange($event)">
      <option value="">-- Choose Module --</option>
      <option *ngFor="let m of modules" [value]="m.id">{{ m.name }}</option>
    </select>

    <button class="btn-small primary ml-05" (click)="toggleAddModule()">â• Add Module</button>

    <button
      *ngIf="selectedModule()"
      class="btn-small export ml-auto"
      (click)="exportModuleToExcel()"
    >
      ğŸ“¤ Export
    </button>
  </div>

  <!-- Addâ€‘Module inline form -->
  <div class="form-box" *ngIf="showAddModuleForm">
    <div class="form-group">
      <label>Module Name</label>
      <input [(ngModel)]="newModuleName" />
    </div>
    <div class="form-group">
      <label>Initial Version</label>
      <input [(ngModel)]="newModuleVersion" />
    </div>
    <div class="form-group">
      <button class="btn-small success mr-05" (click)="saveModule()">âœ… Save</button>
      <button class="btn-small danger" (click)="cancelAddModule()">âŒ Cancel</button>
    </div>
  </div>

  <!-- â”€â”€ Version â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="selection-row" *ngIf="selectedModule()">
    <label class="mr-05">Select Version</label>

    <select [ngModel]="selectedVersion()" (ngModelChange)="onVersionChange($event)">
      <option value="">-- Choose Version --</option>
      <option *ngFor="let v of versions()" [value]="v">{{ v }}</option>
    </select>

    <button class="btn-small primary ml-05" (click)="toggleAddVersionForm()">â• Add Version</button>
  </div>

  <!-- Addâ€‘Version inline form -->
  <div class="form-box" *ngIf="showAddVersionForm">
    <div class="form-group">
      <input [(ngModel)]="newVersionName" placeholder="New version (e.g. v1.2)" />
    </div>
    <div class="form-group">
      <button class="btn-small success mr-05" (click)="addNewVersion()">âœ… Save Version</button>
      <button class="btn-small danger" (click)="cancelAddVersionForm()">âŒ Cancel</button>
    </div>
  </div>

  <!-- â”€â”€ Action â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div
    class="selection-row"
    *ngIf="selectedModule() && selectedVersion()"
  >
    <!-- âœ” Only one button now -->
    <button
      class="btn-small warning"
      [routerLink]="['/tester/edit-testcases', selectedModule(), selectedVersion()]"
    >
      âœï¸ Edit Test Cases
    </button>
  </div>
</div>
